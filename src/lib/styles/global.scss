@use 'abstracts' as *;
@use 'fonts';
@use 'reset';

:root {
	// Default to dark theme
	--bg-primary: #{$dark-bg-primary};
	--bg-secondary: #{$dark-bg-secondary};
	--bg-tertiary: #{$dark-bg-tertiary};
	--bg-section: #{$dark-bg-section};
	--text-primary: #{$dark-text-primary};
	--text-secondary: #{$dark-text-secondary};
	--text-muted: #{$dark-text-muted};
	--text-muted-hover: #{$dark-text-muted-hover};
	--hover: #{$dark-hover};

	// Glass effect
	--glass-bg: rgba(27, 28, 29, 0.8);

	--header-padding: #{$spacing-4};
	@include xl {
		--header-padding: #{$spacing-8};
	}
}

// Light theme
[data-theme='light'] {
	--bg-primary: #{$light-bg-primary};
	--bg-secondary: #{$light-bg-secondary};
	--bg-tertiary: #{$light-bg-tertiary};
	--bg-section: #{$light-bg-section};
	--text-primary: #{$light-text-primary};
	--text-secondary: #{$light-text-secondary};
	--text-muted: #{$light-text-muted};
	--text-muted-hover: #{$light-text-muted-hover};

	// Glass effect for light theme
	--glass-bg: rgba(255, 255, 255, 0.7);
}

// appear animation for litlle content (spin in btn, error on input, ...)
@keyframes appear {
	from {
		opacity: 0;
		translate: 0 -20px;
	}
}

// Scroll reveal animations (used by use:reveal action)
$reveal-ease: cubic-bezier(0.16, 1, 0.3, 1);

@keyframes revealFade {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes revealLand {
	from {
		opacity: 0;
		transform: scale(1.04) translateY(-8px);
	}
	to {
		opacity: 1;
		transform: scale(1) translateY(0);
	}
}

@keyframes revealLandSlow {
	from {
		opacity: 0;
		transform: scale(1.12) translateY(-25px);
	}
	to {
		opacity: 1;
		transform: scale(1) translateY(0);
	}
}

.reveal-hidden {
	opacity: 0;
}

.reveal-instant {
	opacity: 1;
}

.reveal-fade {
	animation: revealFade 900ms $reveal-ease forwards;
}

.reveal-land {
	animation: revealLand 900ms $reveal-ease forwards;
}

.reveal-landSlow {
	animation: revealLandSlow 2000ms $reveal-ease forwards;
}

@keyframes revealGrow {
	from {
		transform: scaleX(0);
	}
	to {
		transform: scaleX(1);
	}
}

.reveal-grow {
	transform-origin: center;
	animation: revealGrow 900ms $reveal-ease forwards;
}

.skip-link {
	position: fixed;
	top: -100%;
	left: 50%;
	transform: translateX(-50%);
	z-index: 9999;
	padding: $spacing-3 $spacing-6;
	background-color: $color-primary;
	color: $dark-bg-primary;
	font-size: $font-size-sm;
	font-weight: $font-weight-medium;
	border-radius: 0 0 $radius-md $radius-md;
	text-decoration: none;
	transition: top $transition-base $transition-timing;

	&:focus {
		top: 0;
	}
}

html {
	font-family: $font-family;
	font-weight: $font-weight-light;
	font-size: $font-size-base;
	background-color: var(--bg-primary);
	color: var(--text-primary);
	transition: $transition-slow $transition-timing;
}

* {
	scrollbar-width: thin;
	scrollbar-color: $color-primary var(--bg-primary);
}

body {
	min-height: 100vh;
	min-height: 100dvh;
	overflow-x: hidden;
	padding-bottom: $spacing-20;

	@include sm {
		padding-bottom: 0;
	}
}

form {
	display: flex;
	flex-direction: column;
	align-items: center;

	> div {
		width: 100%;
		display: flex;
		flex-direction: column;
		gap: $spacing-3;

		@include sm {
			flex-direction: row;
			gap: $spacing-8;
		}

		&.action {
			margin-top: $spacing-2;
			justify-content: end;
		}
	}
}
